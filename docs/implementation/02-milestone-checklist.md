# 里程碑检查清单

> 无限向下 - MVP 12 周开发检查清单

## 总览

| 阶段 | 周数 | 目标 | 状态 |
|------|------|------|------|
| 原型期 | 第 1-2 周 | 玩法原型跑通 | ⬜ |
| 核心期 | 第 3-4 周 | 核心玩法完成 | ⬜ |
| 功能期 | 第 5-6 周 | 广告与排行榜 | ⬜ |
| 完善期 | 第 7-8 周 | 灰度准备 | ⬜ |
| 上线期 | 第 9-10 周 | 正式上线 | ⬜ |
| 迭代期 | 第 11-12 周 | 首次迭代 | ⬜ |

---

## 第 1-2 周：玩法原型

**目标**: 内部可以完整玩一局

### 基础框架

- [ ] 项目初始化
  - [ ] Cocos Creator 3.8.5 项目创建
  - [ ] 目录结构按规范建立
  - [ ] Git 仓库初始化
  - [ ] .gitignore 配置

- [ ] 场景搭建
  - [ ] GameScene 场景创建
  - [ ] 基础 Canvas 适配设置
  - [ ] 游戏背景占位

### 核心玩法

- [ ] 玩家控制
  - [ ] Player 预制体创建
  - [ ] 玩家移动逻辑 (左右)
  - [ ] 重力和下落
  - [ ] 基础跳跃

- [ ] 平台系统
  - [ ] BasePlatform 基类
  - [ ] NormalPlatform 普通平台
  - [ ] 简单的平台生成

- [ ] 碰撞检测
  - [ ] 玩家与平台碰撞
  - [ ] 着地判定

- [ ] 相机跟随
  - [ ] 相机向下滚动
  - [ ] 边界死亡判定 (顶部/底部)

### 验收标准

- [ ] 玩家可以左右移动
- [ ] 玩家可以踩在平台上
- [ ] 相机持续向下移动
- [ ] 被推出顶部或掉入底部会触发死亡
- [ ] 可以重新开始游戏

---

## 第 3-4 周：核心玩法完成

**目标**: 核心玩法 + 基础 UI 完成，开始内部测试

### 平台扩展

- [ ] MovingPlatform 移动平台
  - [ ] 左右移动逻辑
  - [ ] 同步带动玩家
  - [ ] 可配置速度和范围

- [ ] BreakablePlatform 破碎平台
  - [ ] 延迟破碎逻辑
  - [ ] 警告抖动效果
  - [ ] 破碎动画

### 对象池

- [ ] ObjectPool 通用对象池
- [ ] 平台对象池接入
- [ ] 平台回收机制

### 难度系统

- [ ] DifficultyConfig 配置结构
- [ ] 按层数调整难度
  - [ ] 平台间距变化
  - [ ] 平台宽度变化
  - [ ] 平台类型概率

### 分数系统

- [ ] 分数计算逻辑
- [ ] 层数统计
- [ ] 金币掉落/收集

### 基础 UI

- [ ] HomeScene 主界面
  - [ ] 开始游戏按钮
  - [ ] 最高分显示
  - [ ] 金币显示

- [ ] GameScene HUD
  - [ ] 层数显示
  - [ ] 分数显示
  - [ ] 金币显示
  - [ ] 暂停按钮

- [ ] ResultPopup 结算弹窗
  - [ ] 本局成绩显示
  - [ ] 再来一局按钮
  - [ ] 返回主界面按钮

- [ ] PausePopup 暂停弹窗
  - [ ] 继续游戏
  - [ ] 重新开始
  - [ ] 返回主界面

### 场景流转

- [ ] LaunchScene 启动场景
- [ ] Scene 切换逻辑
- [ ] 过渡动画

### 验收标准

- [ ] 三种平台类型都可正常工作
- [ ] 难度随层数增加
- [ ] 分数和金币正确计算
- [ ] UI 可正常显示和交互
- [ ] 场景切换流畅

---

## 第 5-6 周：广告与排行榜

**目标**: 广告、排行榜接入完毕，小规模灰度

### 微信登录

- [ ] 微信登录授权
- [ ] 获取用户信息 (昵称、头像)
- [ ] openid 存储

### 数据存储

- [ ] 本地存储封装 (localStorage)
- [ ] PlayerData 结构
- [ ] 存档读取/保存

### 云函数

- [ ] 云开发环境配置
- [ ] login 登录函数
- [ ] submitScore 提交分数函数
- [ ] getLeaderboard 获取排行榜

### 排行榜

- [ ] 好友排行榜 (开放数据域)
- [ ] LeaderboardPopup 排行榜弹窗
- [ ] 好友排行显示
- [ ] 我的排名显示

### 广告系统

- [ ] AdAPI 广告封装
- [ ] 激励视频 - 复活
- [ ] 激励视频 - 双倍金币
- [ ] 插屏广告 (每5局)
- [ ] Banner 广告 (主界面)

### 复活系统

- [ ] RevivePopup 复活弹窗
- [ ] 复活倒计时
- [ ] 观看广告复活
- [ ] 复活无敌时间

### 数据校验

- [ ] 分数校验规则
- [ ] 云函数校验实现
- [ ] 异常数据拦截

### 验收标准

- [ ] 微信登录正常
- [ ] 数据能正确保存和读取
- [ ] 排行榜显示正常
- [ ] 广告正常播放并发放奖励
- [ ] 复活功能正常

---

## 第 7-8 周：灰度准备

**目标**: 提交审核 + 正式上线准备

### 100 层挑战模式

- [ ] 模式选择 UI
- [ ] 100 层目标判定
- [ ] 模式完成奖励

### 新手引导

- [ ] 引导流程设计
- [ ] 移动引导
- [ ] 跳跃引导
- [ ] 平台类型介绍

### 分享功能

- [ ] 分享卡片生成
- [ ] 分享回调处理
- [ ] 新纪录分享引导

### 音效音乐

- [ ] AudioManager 音频管理器
- [ ] 背景音乐
- [ ] 跳跃音效
- [ ] 着地音效
- [ ] 破碎音效
- [ ] 死亡音效
- [ ] UI 点击音效

### 视觉完善

- [ ] 玩家动画 (待机、跳跃)
- [ ] 平台视觉风格统一
- [ ] UI 视觉风格统一
- [ ] 过渡动画

### 性能优化

- [ ] 性能测试
- [ ] 包体大小控制 (≤4MB)
- [ ] 内存占用优化
- [ ] DrawCall 优化

### 埋点统计

- [ ] 基础埋点
  - [ ] 新增用户
  - [ ] DAU
  - [ ] 平均局数
  - [ ] 平均时长
- [ ] 游戏埋点
  - [ ] 平均死亡层数
  - [ ] 死亡原因分布
- [ ] 广告埋点
  - [ ] 广告播放次数
  - [ ] 广告完播率

### 验收标准

- [ ] 两种游戏模式可选
- [ ] 新手引导完整
- [ ] 分享功能正常
- [ ] 音效音乐正常
- [ ] 帧率稳定 ≥55 FPS
- [ ] 包体 ≤4MB

---

## 第 9-10 周：正式上线

**目标**: 审核通过，正式上线

### 上线准备

- [ ] 微信审核素材准备
  - [ ] 游戏截图
  - [ ] 游戏介绍
  - [ ] 隐私政策
- [ ] 版本号规划 (v1.0.0)
- [ ] 发布配置检查

### 提交审核

- [ ] 功能完整性检查
- [ ] 合规性检查
- [ ] 提交审核
- [ ] 审核问题响应

### Bug 修复

- [ ] 测试发现的问题修复
- [ ] 审核反馈问题修复

### 监控配置

- [ ] 错误监控
- [ ] 性能监控
- [ ] 数据看板

### 验收标准

- [ ] 审核通过
- [ ] 正式发布
- [ ] 监控数据正常

---

## 第 11-12 周：首次迭代

**目标**: 根据首轮数据，做一次难度 + 广告节奏调优版本

### 数据分析

- [ ] 留存数据分析
  - [ ] 1日留存
  - [ ] 7日留存
- [ ] 游戏数据分析
  - [ ] 平均层数分布
  - [ ] 死亡原因分布
  - [ ] 模式选择比例
- [ ] 商业数据分析
  - [ ] 广告展示次数
  - [ ] 广告收入
  - [ ] eCPM

### 难度调优

- [ ] 根据数据调整难度曲线
- [ ] 调整平台生成参数
- [ ] 调整相机滚动速度

### 广告调优

- [ ] 调整插屏频率
- [ ] 优化广告触发时机
- [ ] 测试不同广告策略

### Bug 修复

- [ ] 线上 Bug 收集
- [ ] 问题修复
- [ ] 热更新发布

### 验收标准

- [ ] 留存数据有改善
- [ ] 平均层数在合理范围 (80-150)
- [ ] 广告收入稳定

---

## 里程碑状态图例

| 图标 | 含义 |
|------|------|
| ⬜ | 未开始 |
| 🔄 | 进行中 |
| ✅ | 已完成 |
| ⚠️ | 有风险 |
| ❌ | 已取消 |

---

## 风险项跟踪

| 风险 | 影响 | 缓解措施 | 状态 |
|------|------|----------|------|
| 首包超4MB | 无法发布 | 资源压缩/分包 | ⬜ |
| 广告审核不通过 | 无法变现 | 提前测试/准备备选 | ⬜ |
| 性能问题 | 低端机卡顿 | 持续优化/降级方案 | ⬜ |
| 审核延迟 | 上线延期 | 预留缓冲时间 | ⬜ |
